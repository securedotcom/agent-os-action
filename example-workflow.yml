# Simple GitHub Action Workflow for Code Review
# Copy this to your repository as .github/workflows/code-review.yml

name: Code Review

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main, develop ]
  workflow_dispatch:
    inputs:
      review_type:
        description: 'Type of review to run'
        required: true
        default: 'audit'
        type: choice
        options:
        - audit
        - security
        - review

jobs:
  code-review:
    runs-on: ubuntu-latest
    
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
      
      - name: Run Code Review
        uses: your-username/agent-os@main
        with:
          review-type: ${{ github.event.inputs.review_type || 'audit' }}
          fail-on-blockers: 'true'
          comment-on-pr: 'true'
          upload-reports: 'true'
      
      - name: Create Review Summary
        run: |
          echo "## Code Review Summary" >> $GITHUB_STEP_SUMMARY
          echo "**Review Type:** ${{ github.event.inputs.review_type || 'audit' }}" >> $GITHUB_STEP_SUMMARY
          echo "**Repository:** ${{ github.repository }}" >> $GITHUB_STEP_SUMMARY
          echo "**Branch:** ${{ github.ref_name }}" >> $GITHUB_STEP_SUMMARY
          echo "**Commit:** ${{ github.sha }}" >> $GITHUB_STEP_SUMMARY






